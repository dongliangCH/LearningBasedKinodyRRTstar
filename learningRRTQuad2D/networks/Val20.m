function [y1] = Val20(x1)
%VAL20 neural network simulation function.
%
% Auto-generated by MATLAB, 24-Feb-2020 17:37:28.
% 
% [y1] = Val20(x1) takes these arguments:
%   x = 6xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3;-3;-1;-1;-1;-1];
x1_step1.gain = [0.333333333333333;0.333333333333333;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.13799300396190408713;-0.38805101065600244858;-0.3491720077404884548;0.032887349430825128793;0.4674840921994137255;-0.24713708065491943322;0.69033620730087841277;0.93000249942977297746;-0.33195540551174357313;-0.99734410597787037656;0.47822121897477126717;0.47094579835220207187;0.53537185569603040758;1.2829709852088386768;1.1088406180945447055;-0.13848329180501811608;-0.12164108187072029954;-0.59148280076085080204;0.28359597588671325852;0.30059224228317960037];
IW1_1 = [-7.8335598266574884008 0.57258494472812515586 0.22723814627575719682 0.27051090612287104209 -0.034846706510032784965 0.43886255173770577498;-7.8094407270986412328 0.19432291628507594727 -0.18994011844227667862 0.087332408386569540526 -0.27363902833330489006 0.072039244481192921121;-1.5089469994480850801 0.1384169550545722438 0.667374276636139796 0.31261243387286274942 0.43012103886864133662 0.030714146811268220466;-0.7352148499200790166 -0.57229650844002244447 -0.22492818635815339801 -0.083382843597704217609 -0.18168170635493227638 -0.17199564068817391194;3.1496357913992349964 -0.26071298093568356924 1.094651310277251266 0.092000414955426559893 0.81006594363696771133 -0.2911444702069632684;9.1608432433000821504 -0.40822313915378155569 0.59334111971059355639 -0.1064463757148320644 0.74080981093385800396 -0.37460255708421813514;-2.7480588454652088437 0.72866180447088657601 -0.15357177177544278912 0.19757114040866533 -0.20548435492180003314 0.18153982598560028383;-2.8940288106189022699 -0.42543123432464025058 -0.3084499391879350072 -0.053192649886071058374 -0.35412599514320497462 -0.059238329046694224167;0.40464375466659924241 0.63335400027675048396 -0.077286420328731564311 0.15297168203747546489 -0.067899000663142528023 -0.033423885023320554222;0.96755099172056047152 -1.0828568947695329516 0.11788934519606278362 -0.26037852889374951681 0.094242868682140490399 -0.17016094652535412868;-0.47245287833200766414 -0.83357812890494331626 0.019839228882967029771 -0.21745358907846271124 0.017402967452845922308 -0.044245269017996691208;8.1579566415329356488 -0.36188055982228911622 -0.15572086904174228805 -0.19216583906295570117 0.038267907176926491131 -0.18271212387867621918;-2.3047674501551069781 0.62132758687627520633 -0.057324495611906660375 0.25072313280598845786 -0.14734741389644642751 0.23799069789261204089;-3.3993474757163819611 -0.23164377541494454715 -0.37088861833315517336 -0.081579085835306666685 -0.38618701812682137975 -0.078437847522376397125;0.79341795708494322614 -0.1563834938811265729 0.31194779699552316332 0.050410943643776684464 0.32406377285215715034 -0.096287859828963429099;1.2506564791756660249 -0.59497889205530163359 -0.60312835459340896627 -0.47093474937226487143 -0.35903099540981386895 -0.36788143679348050963;8.3372211708813619424 -0.47253249542470143751 0.25490684808237046299 -0.17311525368057889551 0.43563814713637066811 -0.40024910701172916605;-3.1074724317069755131 0.23418437956389601129 -0.98750337709918589724 -0.09352376299090996159 -0.77148036497571392811 0.22189651817330546812;-0.48895694314912935274 -0.26642987860323791294 -0.16068989113418977177 0.022488484675270377366 -0.14600700852135567454 -0.11579134934561255421;7.7022891338014884965 -0.055753985164743460889 0.56344966404679908134 0.013489219111657438713 0.55047515271471925136 -0.011389629094498745707];

% Layer 2
b2 = 0.90041770186252201302;
LW2_1 = [-2.9978415157554163528 -6.5912154290875530904 0.14009925426372174528 0.83518426044085536386 0.6935408922610896143 3.1163500535624422128 -1.3102665727751514613 -1.2339497861976400639 -0.96261821149800863573 0.30920546881504390457 -1.0672441539124524201 -4.3702786470052492618 1.3059684252354575307 0.95372869715864694307 -0.60137790977395244596 0.16529899731197028601 -5.3042104626722768046 0.88887968630753766419 -1.2829232365235478941 -3.1720723611530456942];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.106967270368547;
y1_step1.xoffset = 5.079642;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
