function [y1] = Val1010(x1)
%VAL1010 neural network simulation function.
%
% Auto-generated by MATLAB, 24-Feb-2020 17:34:47.
% 
% [y1] = Val1010(x1) takes these arguments:
%   x = 6xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3;-3;-1;-1;-1;-1];
x1_step1.gain = [0.333333333333333;0.333333333333333;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.35085188277815593239;0.18933494610376136458;-0.040985517648198528662;-0.84206251348627336739;-0.49300698075620319472;-0.66977999857273506912;-1.1488899731733304144;0.81529239146951704154;-0.44528129923089915243;-6.5262631440428089391];
IW1_1 = [-0.4348405318207475001 -0.039517348421282558202 -0.022523062044818322608 -0.10120368185875015798 0.0018446902693327101724 0.024536150123252980365;-0.23800203319161669646 0.52485281825125362776 -0.039026644855891509667 0.071914283057575856262 -0.033214912443876989934 0.078563110546410783175;-4.3859847359322330362 0.45099925806716417709 -0.34133494173599487898 0.099248483028825773555 -0.54647014266438842522 0.31132870467110884682;2.4634385432515872871 0.58319857814654108008 0.28444120908480174936 -0.010581789706976929555 0.382319150822387821 -0.002010484247422369801;0.0059821742563334334708 0.52064024742393977263 -0.070919502041151091798 0.2138853968713004261 -0.088117858854856789819 0.091471245312546217709;0.6543522957952007113 0.4328653942097416274 0.10305977267699301114 0.082071572244287585574 0.078979098955405405147 0.082343303349952892689;-1.5087225347973443057 1.6955456011112437498 -0.22319475286213949494 0.2324962120344312988 -0.16731221981640864716 0.15893239025177643975;0.80402873815389319656 -0.095661286950698393161 0.23267398396957220119 0.11847080150570989121 0.24837777122043075417 -0.12674308366525391389;-12.309340027685871988 0.11476057665870995073 0.12138827290189230235 0.30132330693777098496 -0.51559019229924951677 0.54024449654125517029;-6.7624817493439639549 3.4525963854141661358 2.8073018644045966141 3.0526774204615216846 2.3498743554597707472 4.387027063426923057];

% Layer 2
b2 = [-0.16488323597703638534;0.24808243229728729751;-1.1361928705983019849;-0.19072912719804502313;-0.030772651551119661884;-0.067525381204322956763;0.59810927886037656975;0.030620193482734883728;2.8177758757957396263;0.80374750514670401103];
LW2_1 = [1.6854379371230132634 2.4165738848899156466 2.37072268323790869 2.3948738493947741013 1.2340341269958527981 -4.1473216071399026106 -1.9508884924815670381 1.6844954490897183774 3.3198549896101066103 2.4549074161963573282;0.64682083737461448791 0.20938841796783291827 0.30273926647357929376 0.23929638926459093073 0.5261401969537513601 0.15161740418158328736 -0.34464381555485051889 0.33491348735759407518 0.93685581065455958427 -0.26510416845796525021;-0.71469992338495758055 1.4740219693412548452 0.056365193265518843957 -0.48802873488142323177 -0.61028362895531995669 -0.93750334397082280002 -0.24576862576645264191 0.39672016952646532717 0.63226901957009751243 -1.0314355756310278345;1.7793876642214818684 0.16787303556750768352 -1.4120786412712440505 -0.24890474795849654166 -0.45483547331405949077 3.5495495429544638988 -1.397917364863057621 2.0901565207033088178 -3.7282862794956241892 1.0051851987424620383;-0.54559658571874647404 -3.3028177243784000439 -1.0585970987942476818 -0.36038263406903148223 0.68138375316488797306 1.8140500054631825133 1.1000080926470108267 -0.4413550410868049001 -2.6332709166980721172 -2.1256895501682127048;0.70447958196851800938 -0.12745902535014907997 0.65317310289254104649 0.67804084726162150432 0.97494211718078327422 -0.51858844826143257745 -0.1741565909204626228 0.29346159024998857978 0.19276798364468988867 -0.093242581872149621347;0.22882804355550778741 -0.95175360653806317934 -0.29300117084547161461 -0.0539417398334684009 0.067170293849588030843 0.86697257718227471734 0.2596856293295305429 -0.28838389775576250829 -0.75000974417838850439 0.75866703840985438845;-0.7071705416037963321 0.49604349113314810671 -0.69176125240183172771 -0.79631337446050076689 -0.84801607285354585475 0.71785036893716891448 0.0071478531461294210828 -0.039201371821559208297 -0.012978550377499821489 0.23564355285296337272;-1.1909459587010635673 1.7551807840326223431 -3.3704666997966041819 0.83366066735750543604 0.030976355443626073932 -0.10087043126692302186 -1.1169885926682183719 -2.79021000622225257 -3.2214260719136587063 0.96394388360999705423;-1.1066216135033692947 -0.27924379649870473274 -0.14641403691416601807 -0.14360520969298681826 -0.81735446975636805167 -0.26060122113772782315 0.30504875144709786561 0.072413504076214524341 -0.40392389306666010018 -0.47493337687254166823];

% Layer 3
b3 = 0.18225855251245814959;
LW3_2 = [2.4564190040728899334 2.8744121035557270716 1.6327386731247199858 -4.6443616945311889666 2.5285031896789127437 -2.9863650264060481732 3.5937670505381129615 -2.8806545664553406816 4.9655763043716207861 -1.00180548911438283];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.106967270368547;
y1_step1.xoffset = 5.079642;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
