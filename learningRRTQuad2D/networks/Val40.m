function [y1] = Val40(x1)
%VAL40 neural network simulation function.
%
% Auto-generated by MATLAB, 24-Feb-2020 17:41:55.
% 
% [y1] = Val40(x1) takes these arguments:
%   x = 6xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3;-3;-1;-1;-1;-1];
x1_step1.gain = [0.333333333333333;0.333333333333333;1;1;1;1];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.5007564535384326776;0.25016862973621062372;-0.087047133444554600223;-1.0979174108484086592;0.29528266376843692598;0.51005483657277073117;0.15984739273455306208;-0.25978508910477476901;0.083226255581128297245;-0.031886506383988280633;0.11224054967731023069;0.8428617874419292999;2.7281722301192794511;0.46732125188364354029;-0.82973239063872661347;0.39093618387810363801;-0.83537456801352638625;0.51544890848801916405;-2.6750713234040337518;0.14836886830226428402;-0.39959262500212322511;0.08863110915471590634;-0.70106151606344491167;1.4072915141832884611;0.4674661047869153041;0.20537836927410924037;-0.29715958728474561878;-0.81408361027146880495;2.2518477321528882484;-0.07258347271697705716;0.71623369111651191687;0.076700767321471116644;-1.3221442674227505965;-0.33724181503244515801;-0.85204316626791742895;1.0555468799709042393;-0.030405359652122949249;-0.50218793358067403965;-0.63905297083311995987;-1.4935707001494069601];
IW1_1 = [0.071987333851643478533 1.109005121372988123 -0.083300867500791381248 0.0061287848531267532376 -0.12186894778440240938 0.066649438167774174846;-1.55517450285580483 0.18028364515988803962 0.41364054078368567291 0.42654696321015422855 0.17722062037673089185 0.5750030777362938883;0.36955435954366772089 0.683867304618287708 0.50752258779480030615 0.71851560248805002029 0.25383642648678372833 0.36858326091798226942;-2.9349830072494582645 -0.96357437996977268746 -0.30150295388807774044 0.017430660357755919238 -0.25434272642042632384 0.094907691979866606879;1.7630832263800362281 0.65177774074444561059 -0.23494409167043309172 -0.17867775881895378576 -0.11989189732444816006 -0.43399445888675125538;-0.2737341688055972555 -1.272437659956696443 -0.088551731362408458992 -0.16541526165164260886 0.0031959477862863469935 -0.11215673750546013843;0.32359905499536867346 -0.036955912614173080932 -0.019231991134826063872 0.056844219338039202183 -0.091702532015104948337 0.16043757743779168967;2.2172773713080222713 0.31628700500483369895 0.051212785378161568284 -0.0774422400350619905 0.12056644191922813447 -0.15186253228634066792;-0.016865077569115764083 0.71801562079505831804 0.34653326454061766926 0.33712946905098445383 0.21258740222088953753 0.18094614880383605438;1.4931331157803660048 0.01073113932506455058 -0.27580433102589391181 -0.3116940159058128601 -0.10897300156893310885 -0.51752749600359893023;0.25861505365351622476 0.042786050489696941801 0.43872932179411505693 0.13603406793840139288 -0.0092875436826191214851 -0.0291485511987095193;2.6051055772849771586 1.0500039031720620475 0.28180540278902749263 0.026407500670420545885 0.23695420715126799815 -0.061449219952732211936;0.41762613529173736593 -1.051672789237739547 -0.85059372960761192584 -1.1939490924437898833 0.28403191789359222286 0.80307304875975882297;7.5785752030836759374 -0.31526558385556385788 -0.14737927227617156345 -0.29377807631229641006 -0.018854300712690001685 -0.22972993188589557745;0.053865505428625962137 0.75414641253065783921 0.53964792214795509473 0.36503681694400030855 0.33369879500574894937 0.2720219891254494482;1.8851316049515824957 -0.40106517030273408642 -0.31215443249623647803 -0.36639127029060852836 -0.090443739970337860834 -0.53274872436788334173;3.8941391408352790116 -1.8124480095291699566 0.069893853141516998351 -0.32130983441273125445 0.16563528518413536683 -0.24845644382664855421;0.097917586955068025567 -0.37304375939436917875 -0.70368526769092298867 -0.50681399387556902436 -0.11076911175026431244 0.24523298712843255576;1.8632230172565786841 0.61023512259991585793 0.68406715551534180708 0.64223681772222984687 0.31547414365953163617 0.20571982979448880102;-7.5957803418650096106 0.338711684673428437 -0.56264833037886208267 0.10958626083698243259 -0.70000732753086714055 0.39540761888527092838;-7.540257168505673846 0.20674408860993784276 -0.24551013253011641502 0.16056482416151515724 -0.30814465731005952209 0.14691561455235799261;1.3312853627972205395 0.009633514526745511064 -0.21135788557611864813 -0.14244553594001044261 -0.11211636126445996553 -0.11563904325490738378;-1.1275243324064001538 1.9082563537217860361 0.23234236520416648442 0.42459159444535515826 0.011850886210736970988 0.20821100698165237453;1.6206047745534326587 -0.29543373854903359765 1.0483259778957254582 0.05227454352691342232 0.85043109100897718022 -0.27081888455639779867;-0.32671021122674615 0.25383534162841792092 -0.28040182997724194536 0.12366367470868952494 -0.12519368511868744775 -0.021973282970898164179;0.042120980488596020119 0.10960116124660933268 -0.33007426376213155894 -0.25995954862529768725 -0.18611529982562108332 -0.033349387336484126454;-0.058831838080560541759 -0.077806962744731505977 -0.45418413414569897002 -0.31331501035777503672 -0.18945467158580928113 0.10342355703191853655;0.12668001011015345147 0.54661729202594722121 0.49614169631137150507 0.28376777194557301076 0.32186842856351344233 0.34996664708204733296;0.24159605645376946992 -0.75989367352997638783 -0.84278082523761110867 -0.89811662824394267179 0.15548451428124110407 0.55090483481419516565;6.9336500960975611108 -0.43743975030738962984 0.17266335975576449502 -0.20855644573112022688 0.37146954691355754674 -0.46520879045527563367;0.051686961516934727678 -1.0428236102960213305 0.20353241463171886649 0.10682693982086739759 0.19008453784609977144 -0.061021509040728838524;1.6348411950707404383 -0.63567432076191898727 -0.26091877031423871269 -0.44391948181212070867 0.0038462156912179856771 -0.48189297344314474536;-1.524696499577106179 0.35952865723362076311 -1.1532807228864536686 -0.02710355347948057575 -0.94506215574712615357 0.25424744151445621831;-7.983632659876019666 0.13911313269259556469 -0.66746224292918454601 0.050938607230310233021 -0.66696044686334443607 0.11702374493655597065;-0.39968774311742738536 0.75544051926653377205 0.23115067511984224713 0.74431280638469476951 -0.2053030692301089366 -0.7015709383203904137;3.7018698341958495845 -0.1185561072924705972 0.89074661175333225138 0.024345533520124123389 0.81986651414400157911 -0.11500841720198257123;-6.9193527001805810173 0.56711761668522542301 0.30608568269888353219 0.36474333489894361637 0.042273575694447021456 0.58417776839980806169;-0.037841052558623203272 -0.25649446414405718819 0.02522618518086006123 -0.0072623974778334675351 0.11071133085783334271 0.059586041274371615017;0.051963347829992526106 0.12747736224212963263 0.34286862787466121372 0.18615869458138212256 1.0181387395754450953 -0.044518368047387443798;0.1317860454100287515 0.29863374879522353034 0.65460313024385241576 0.37113343842824431107 -0.11597182265550186331 -0.19898022085396302461];

% Layer 2
b2 = 0.18354809156842227802;
LW2_1 = [-1.3756014777510285896 -1.1075122035810389676 0.16200976194352767479 -1.1866523030974287511 0.36020466820374302808 -0.91734588350287937786 0.94809848457532530652 1.1387152949545977787 -0.69687637349811482057 -1.751543558052145011 -0.79433969113091595915 -1.3555462994959142087 0.97316816998015964746 -2.6198760615554128606 -1.0027213716822722667 0.92243751182004796174 0.14343349529513796381 -0.54627942871280166237 0.27115858972835077401 -2.8033121693431364285 -5.064185608517910886 -1.4626487141274286952 0.14230486777179321423 -0.72043216348161331908 -1.0931495030901887677 1.3247935163693933536 -1.0425730501317496124 0.88495257961475359831 -1.864367581814321051 -4.4464397181593753317 -0.84507014230776844599 -0.60820964921526843305 -0.55177331161064346876 2.8840956794796408502 -0.1632475581170702017 -0.27857899555719695117 -1.9876946778605242283 -0.51191078388752420114 0.12938480249701259095 -1.1970138903039417855];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.106967270368547;
y1_step1.xoffset = 5.079642;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
