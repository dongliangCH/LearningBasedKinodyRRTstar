function [y1] = Val2010(x1)
%VAL2010 neural network simulation function.
%
% Auto-generated by MATLAB, 24-Feb-2020 01:26:42.
% 
% [y1] = Val2010(x1) takes these arguments:
%   x = 9xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-2.999466;-2.999316;-2.997951;-0.9986092;-0.9998595;-0.9999033;-0.9998944;-0.999858;-0.9996955];
x1_step1.gain = [0.333432195979441;0.333424914043057;0.333616852054771;1.00178849299655;1.00040101074516;1.00027532578342;1.00091358387368;1.00062243718705;1.0007487602224];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.53334446298387294672;-0.64612066152821034937;-0.62817178529446082713;-0.69818080670055016057;-0.81881641941871829982;0.67500600219262685275;0.79140299285377013749;-0.91903001641728576665;-0.024561302664419977504;-0.089464164928609299365;-0.69518497959353009463;0.34106345893320039186;-0.88653032962631983516;0.70298211744088623387;-0.67488971455903457031;0.68949641074463752233;-0.67019875439381459969;-0.19772928125834085544;-0.73195630435759062582;-0.69130897459876838873];
IW1_1 = [0.085749426928307531659 -0.064207544953920184239 0.022261587451834811968 -0.1364853020545430673 -0.05764969786650358391 -0.048812494155662182471 -0.1400492347564601392 -0.059734674534994355866 -0.058129550384271505559;-0.121711892998554852 -0.43728791863076849067 0.019999559661838153812 -0.080585693332548072321 -0.096033738267975163327 0.027646836367505964183 -0.055106339373266866044 -0.086141277479444722243 0.018686584509469496979;-0.027614923294958019367 -0.034529300452638175822 0.14531814083754820977 0.035915608721248146185 -0.050850779716249322471 0.20977475053816910244 0.05187271113634841363 -0.037019980202976532357 0.22267557235374585423;0.25364011698039878873 -0.99272456695266841908 -2.4555278440960366382 0.070287559601547117127 -0.33724934621650121125 -0.70634987043860930633 0.058828297511382243723 -0.27116344549595300384 -0.70048935503010900661;0.15085833260529740718 -0.0077673212736167427522 -0.17043940551863262511 0.19804108111842980144 -0.021021565851327462388 -0.17129390227846810757 0.17250957015994028421 -0.018121687133976320527 -0.20042214615451153792;-0.39458543624681702289 0.041348978338598248172 -0.092555087293404628146 -0.036811896295343808638 0.0053411648352724326247 0.013001510542960207154 -0.018874228448243064032 0.0038949201264661835117 0.041967755526975951408;-0.68800170226236778692 0.012803818945754091158 -0.15782644934507705781 -0.29665291818869921059 0.0066637335309453465254 -0.049198296126771984271 -0.29478026018042163825 -0.0093231989615539453964 -0.053499875161520084321;-0.44090120147582312349 0.99230552893315460139 -0.14606297402896958881 -0.23244621460358808052 0.46076553054897401163 -0.013675602556451588177 -0.14562030511341764183 0.49327771601641612342 0.0069536288856894071242;-2.950622840009736958 -2.1084554468248866144 -0.086097034081056136867 -0.73630115690811237528 -0.416116174104820713 -0.29120692324485708546 -0.74369333641974877391 -0.46658898756709782374 -0.25590139433004638336;2.5996487572618671713 -2.2474795039666859431 1.1647084806328042994 0.68214536319859297997 -0.46974312260138217923 0.26932414231393231319 0.82643376197432660835 -0.40133329687512592221 0.4608441189384794856;-0.042532410570904038982 0.027270817825217976565 -0.049578702069976589295 0.16715503002082723882 -0.075406561003530409026 0.044659211641080213961 -0.2914926837639035262 0.15701570487890628702 -0.12468347365839654861;0.082320446855518508711 -0.28701115631203927281 -0.40292460696741155823 0.040077788127563906961 -0.15552300557302753403 -0.20645589611376169437 0.020991873503812197993 -0.15800795371087250629 -0.22526911208227673455;-0.35448528293983627702 -0.10445845087146775343 1.4439401583185615952 0.11571601450861036808 -0.032645977623416921887 0.04728880602368248226 0.083248213988712974065 -0.10691807716626230973 -0.061184585616904318961;0.54396851699067849673 0.20410363401437395248 -1.9125051470917393548 0.074693281959020613181 0.047922631129360682145 -0.46213508752039073046 0.099892201123801066531 0.077089901854704392936 -0.4052463846666943259;-0.11902573940516451845 -0.60386707156617691616 0.050303896935303744897 -0.070280689702628074134 -0.28132577920067680655 0.03173600898756868266 -0.057599225058610752093 -0.27151265780187711085 0.039601331060747105295;0.0044739176595229657521 -0.093780944010010997003 -0.055763301421600137975 0.059594260653607677991 -0.28221716721351419732 -0.052412029983929533938 0.034182256674035585431 -0.27736895588826143699 -0.035127448554639305323;-0.074413501974129325767 0.022274786599043534807 -0.15672865873908831125 -0.10319018893678157112 -0.026742075639849021557 -0.25893815769868683274 0.0040943251168516284211 0.10595627301656627972 0.038240691823026987106;0.55104995899510345048 -0.093864162108102264237 -0.11698029501689714837 0.23580314751134037743 -0.028381947678657589579 -0.083740591223906396534 0.22809827659135800682 -0.01776635223214678358 -0.079348319765723429597;-0.023306881440705799757 0.019345128192599893996 -0.073914002219791427595 0.038713330957736123705 0.2719645643536355295 -0.078034552738204379652 -0.099205344278014126469 -0.21515223882593564886 -0.038027671359760921443;-0.029092626207912010428 -0.021934440972534045844 -0.095617679827109058888 -0.17789063722284775837 0.0070716356671933775294 0.1000878703154932936 0.090884508395488269872 0.019074158850909388868 -0.24654096484238285925];

% Layer 2
b2 = [0.80203674765705579297;-1.1131269423128169471;0.94016499127166131;-0.68595996253769120354;0.48949192488526688249;0.92092724659666258535;0.80095194554840154488;-0.029168452877261673989;1.3411800415067156589;-0.7441049124005659765];
LW2_1 = [-0.34316511596984111687 0.30716366879288126146 -0.85472603169568273085 0.26455982105616110411 -0.33667946134261605984 0.43545152189243507834 -0.25430968349119376093 0.18389618217711353743 -0.33310225434932366761 -0.20536008799416505255 0.34975497060251864445 -1.0365822900149055386 -0.23644202973777828092 -0.39081084999668630475 1.1109672387706401864 0.90816916869558295122 0.50902029291280026513 0.50343514314467296966 0.40699693449337337459 0.46389351294331887532;-1.073154937690619759 -0.21161045848266468727 -0.56501682924031715327 -0.11542052127467972156 -1.3563665478600781533 -0.17731030153711854758 -0.50790092604985082048 -0.21427700162151008811 0.073695726577860345974 0.0083538652015643470594 0.18612004918926022823 0.53283132692321188983 0.16557793151179717173 0.19197059488591741716 -0.32116077429070100102 0.037884178340395459339 0.23282917885986484374 -0.23659357298390873425 0.099567267070300169429 0.29606401448501257212;-0.16006273298466988653 -0.062321552193033036282 -0.39408441775137320606 0.13534595305346464045 -0.31870135565927470989 0.27000810300914324102 -0.82928851435550898774 0.043701530386524294058 0.38351545808749132327 -0.36763346805995800182 0.3942973290954412402 -0.28246506506484220234 -0.1761989449956442022 -0.23967527872712532377 0.24878094470121797643 0.35851021107610542282 0.60579017006036206539 -0.28447921178426843758 0.41209886765122982766 0.5263078811845687266;0.68886172534351863828 0.30601130474044252461 0.1750395493407877201 -0.079193262127042612919 0.50753774376550897518 0.095031626038686103919 0.37582203213163944966 -0.12103374544805940716 0.41180963149611116147 -0.35796199814012719109 -0.33135978155205381146 0.17443381667868745888 0.11192703860776288816 0.22272461364931625538 -0.46200999281227650428 -0.31893200639155616649 -0.55669752434400698871 -0.24984637333245868218 -0.36708747839318506268 -0.50183036146674731004;-0.48757913212952808113 0.0055259380659302918121 -0.5792186741956074636 0.12019827629298361626 -0.25396548463566548381 0.17587460826675260783 -0.57810726788915312024 0.28306217292463947688 -0.64949890414017441564 -0.62972114684858482292 0.4388297266492646731 -0.29613401861960181316 -0.21892588493863665566 -0.27429361297467264036 -0.5208128295452287837 0.48671029095304907397 0.62485016996530418076 -0.05900050656695161877 0.44090017228942385286 0.58042406706841931374;-0.039832355249723061519 -0.14766112144523405036 0.068512378777392204943 0.085522041662451503408 -0.35933211205267534538 0.13772718804638264811 -0.7336395927034261577 -0.091509173376166499936 0.62925651488061540295 0.59486147515767318072 0.12691247615588691078 0.094997520917667402363 -0.056637425533155524859 -0.1669321824234972218 1.0230842012127392415 0.082780325746606792103 0.27460344742522424522 -0.2556482855447460012 0.17126767800464196001 0.20537555126541304218;-1.4218620305739828602 0.22943374231198054858 -1.3952945175275486278 0.20302783152306116965 -0.92263241551685648556 -0.32401373149489876013 -1.2299610199656383358 0.46709168287952179677 0.10912909600272033273 0.031129351540294201289 0.6890136308706465984 -0.82110773285084115436 -0.47283279233683572773 -0.53700741952891917208 0.36499323272066563906 1.3442668195605336212 1.1104454217662340643 -0.048952856018639780145 0.8039301437901612557 0.93546138991155725062;-0.10032091684335579795 -0.17267758433352967118 0.0043205676608880491316 -0.03482321590115178972 -0.63352171688314251607 -0.10359021758663079782 -0.45792341287470605948 -0.089251166028272543862 0.045636445793416094419 0.014826100449968890316 -0.048433070851599348272 -1.0937237573267108992 0.1031807897049313999 0.072383446161119330275 0.69652985558242186404 -0.038386592268637151348 -0.12276052807509531262 -0.43098746422494899067 -0.058794090299818219103 -0.026693185329392098148;-0.06565683461765722817 -0.2457501095204251973 -0.38579386700981388447 0.029308198369638566866 0.53498922541869742275 0.55782654969014211499 -0.2963814543228424081 0.24299306221650426862 -0.073005901567590208989 -0.00085689462479677277595 0.43670221895298066972 0.35009496431542030948 -0.1814005939669504075 -0.11921508782660765469 0.45862204041546156263 0.25093979313993036717 0.75285335908560246931 0.38501146628300136898 0.50551575015051897211 0.55960719228838129435;0.33593841205833813168 0.41215237409420929504 0.82870351801466546338 0.11293618065352130364 0.951624623850658935 -1.0169744643726958966 1.3257095550320932009 -0.19242340664678031503 0.045379708184475509025 -0.010104767816418789086 -0.64042629505918924337 1.0889381127909503189 -0.037604915142256417626 -0.26350324366401356446 -0.27354341329209375111 -0.45441491363587965813 -0.95107659191810067778 0.021057236415905414284 -0.69425137422522198438 -0.8529298728881449243];

% Layer 3
b3 = 0.54499052673758163756;
LW3_2 = [-1.4586214203432223968 -2.2974566864729699667 3.4218564640734503435 -2.9360857113737237611 1.903937460759426159 1.9696402580824081685 -2.7106904049011601998 2.1572582308812533469 2.9431028905586527067 -1.0372643307810807123];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.208146846767807;
y1_step1.xoffset = 2.226429;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = repmat(b3,1,Q) + LW3_2*a2;

% Output 1
y1 = mapminmax_reverse(a3,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
