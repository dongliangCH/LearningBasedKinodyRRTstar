function [y1] = NN30val(x1)
%NN30VAL neural network simulation function.
%
% Auto-generated by MATLAB, 16-Oct-2019 01:14:53.
% 
% [y1] = NN30val(x1) takes these arguments:
%   x = 6xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3.998151;-3.997391;-0.9983828;-0.9976032;-0.9986827;-0.9993171];
x1_step1.gain = [0.250109673091651;0.250823862328802;1.00103657337173;1.0026105974737;1.00099022958462;1.00085057285934];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.39600466259431887917;-0.3476526112954804737;-0.68430636611025330573;0.53125377718330335508;-0.2820981307558161344;0.50600618032301969418;-0.87020723733417371104;-0.5561762854763402375;-0.77835039276997675106;0.071468982996051727552;0.62547203164410969389;-1.7620479314391921388;-1.2362941375635323471;-0.71879836819884779242;0.42461560482580740228;0.12840313773516620621;-0.51373370351712588366;0.79842539675071599881;-0.70059804741478626244;0.54867163506267158102;-0.82424974542653650644;-0.63481736579307546098;-0.54835143003838848763;-0.56322083739640704803;-0.76059982900047951038;-0.67356614107121537405;-0.73174346199257278567;-0.82344312240455241891;1.7155158675814687896;0.82753352790918865978];
IW1_1 = [2.1055340818907790634 0.55131598431379669201 0.031838615479744578063 0.66306180106657741646 -0.65428686267044433578 0.32117119686878303764;0.29501347565071645018 2.0689626214263281412 0.076578890591153192524 0.014157956610186886448 0.092377457963225134696 0.091025879134153525607;-0.30907559760689901074 -0.085467660194285838271 -0.021448774504640850253 0.51466837755771699392 0.26339122090204941662 0.51020650915271992254;0.83332796440168521723 -2.9742652822105104526 0.17047900827163248172 -0.57653419872065403418 0.10576282843590588401 -0.6018539780495614222;-0.27632573265441418009 1.8376448996232654931 -0.036252436080482473846 0.37623960727226934964 0.035873941410541329566 0.3633669522723000922;2.0217263704245453937 0.56630754389600901355 -0.007571554312013562861 0.58742675654521958606 -0.41499187509285301312 0.31494392946827809432;1.3293934171938150968 -0.71799358299817384044 0.23679418142306257744 -0.22311443871463673694 0.38670236490169884735 -0.19753637881944716148;-2.7387315927307720465 -0.5374763243576903271 -0.43919264072570524116 0.22610364711600644538 -0.39854881558246796347 0.40407721841840860133;2.8489987226540987031 -2.5589279061705978435 0.54021621079465353965 -0.4606656481630292399 0.43371423493764116319 -0.50635939643215122086;-0.2177371705331190288 -1.5716466160473157032 -0.025261955239873699897 -0.00635687027393745923 -0.087068781450132415323 0.056969673975584111947;-0.062769678454561037007 0.11144960015788685226 0.18855579217621487587 0.39192624641292084231 -0.36789793455346880835 0.20162605140441258733;-0.5799794642866378247 0.692070278696076846 -0.2848769736289236687 -0.28746031137408900591 -0.59915289859600029398 -0.13190853995094889428;-1.003663436452401303 -0.13293213607661286124 -0.1946875550910034669 0.39902867271155684215 0.11417343266934304458 0.55884035791512487457;0.29054329823066632477 -0.097636785084965663217 0.61627835775787487282 0.092148750655261804643 0.16037534859817370592 -0.09821312928616961202;-1.4975978720921356846 0.8949955839129433155 -0.13639808492855623467 0.29564164206224091691 -0.037159686249913316536 0.31496163371478130832;-0.89273045591227950801 0.3639808909638570511 -0.10529997731892852542 0.25321206586390676563 0.12336365733999532512 0.3001724716017198924;-0.99088803799368097014 0.66062302310537146521 -0.31804703066500650266 0.08367416998723632704 -0.11707840969022018096 0.05796718017912788623;1.4225697484026122996 -0.95664852876142036919 0.42792007276749605138 0.068857454226944142528 0.27053820865269723184 0.070250639624287777862;-0.45127771220858931001 0.079030154156964599332 -0.069221060114689980658 -0.21178298900318057174 -0.12167830408566940315 0.42641732845963054022;-2.7840884777697310071 -1.4130883769647331061 -0.73523416834652322027 -0.3894591049618129075 -0.52639479224990259887 -0.21779965010053511931;-0.5215714178615059593 -0.18459789541595278406 -0.085011705129398776326 -0.18076410707181644888 -0.58315139460432419138 -0.12416048262086010201;0.039306118340212935214 1.1744658826902223403 -0.096946527216849098796 0.32861238806901421627 -0.061306654716542001438 0.30635994523259546529;-2.785447063392891387 -0.49716612389716863252 -0.4916078399561762402 0.065440465110899237455 -0.48252471756308967787 0.22927949377753903404;0.49185607815543852528 3.0173238050802799748 0.16035467851745630052 0.41060462168786304726 0.14348111602085525385 0.47997362680557981163;3.4212048754971244868 -1.2041348037849142205 0.82401506939210600322 -0.20646953668893969214 0.60018913442966470573 -0.24176630565319778832;0.28810297024164116531 1.5930374511388849523 -0.37879124648659262542 0.46673068769203673867 -0.36413751888205181384 0.37960981378154173838;-2.2071673221299730194 -2.4852362394892191233 -0.45843795511579027435 -0.54206866822481136747 -0.5541363978047513239 -0.55954362431731263783;-0.50040328954318358257 -0.24473786764845348318 -0.45022064080109314155 0.070225852349743114744 -0.1324210287699878752 -0.30245574511956629937;-0.037811723623464167654 -0.63156850436372580226 -0.093102701460123046817 0.096225223238514553947 -0.2818443547394053339 -0.10758027608820242005;0.066578168432766079987 -0.062892924119187579302 0.90779070350109292153 0.41876339843901849713 -0.26953038372102855469 0.42906907850464226506];

% Layer 2
b2 = 2.0285722225420079745;
LW2_1 = [-0.36851038573975053447 -1.0268917820115235351 0.98842096616245045393 -0.5630208994855335769 -1.5272995572699181732 0.50729334720429031247 0.71641683821337709404 -0.7458557595743617874 0.27633915951128407151 -0.837651201530633438 -1.2444416082579663474 -0.71064861151632463532 -0.87099993039822687368 1.0304485463092925013 1.1276954900904125889 -1.3203248210124725048 1.9846306335479113603 1.0559094366032475421 1.0865043725072400793 -0.19823447655472678508 1.0020885398621457441 2.2777103890738210623 0.94006083928544115214 0.62403450483677536109 0.2608411282366088213 -0.46818787296718888946 0.23201268172433917036 1.2527332526983876448 1.6544196773778034881 0.30788912991309935752];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.200361391842466;
y1_step1.xoffset = 1.647747;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
