function [y1] = NN202020(x1)
%NN202020 neural network simulation function.
%
% Auto-generated by MATLAB, 15-Oct-2019 22:13:05.
% 
% [y1] = NN202020(x1) takes these arguments:
%   x = 6xQ matrix, input #1
% and returns:
%   y = 2xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-4.116737;-4.414833;-1.286626;-1.32087;-0.9986827;-0.9993171];
x1_step1.gain = [0.237677350382405;0.228848138663664;0.775972176741631;0.761305867955304;1.00099022958462;1.00085057285934];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.023445275672652428345;-0.011070558619889139459;0.0033977514813755666477;0.011205751830354064927;-0.091316595522251922668;-0.065657854751395378079;0.023144644248010440984;0.4058316689959957646;-0.072876152118904788391;0.22536892111248901793;-0.028195387008347387592;-0.01082842076781343095;-0.027555916031292371215;-0.1499047186907425111;0.011172920260847313614;0.044387546719477553869;0.032084966695341117504;-0.013112344046684395668;-0.070346696381869022741;-0.006165588459835256302];
IW1_1 = [-0.97826853949152225987 1.1359427447803027711 -0.35572313151926088226 0.12840023647832979337 -0.23781975475466227143 0.23563538645285128648;-0.030727870097494495993 0.45340823744062158651 0.41346086823386979381 0.74763777697099598196 0.16331785637933474153 0.37444918389297748851;0.48754938096195321595 0.088518797522393860566 -0.96145415610845386123 0.9391754878490679026 -0.19822018097805838011 0.61305055547588804821;1.1927461375397339083 1.653566816045225929 0.28204820947722369917 0.31728041670682349817 0.21237289951886356709 0.22584237705929935403;-3.5371717234803172758 3.8445735582460960345 1.1201886335266240113 -2.212169850553491024 -0.10990998918142680374 0.40794311875089445119;3.245988079427116535 13.013440793583466615 -1.1130253029088927885 -0.88562274569054710849 0.27131519022909511563 -0.070208237397512945899;0.30934631098472092914 0.083159345927121486319 0.42359962228405056983 -0.55195219792099037281 0.20074667572304552565 -0.052986650747792435334;19.689243284419173818 1.1214913614043777734 -9.4486858543916127928 -0.40383675759322829046 7.274634922374033863 0.49301954237410455795;-1.9547719850645119966 1.652818091253977828 0.11149406817652064705 1.1520296465499273442 0.096701100147225535486 -0.37985711439737446238;4.9216243743828069768 -18.095281494996299898 -2.1598965196798323163 11.794626159676507626 1.628335098814486237 -8.9959596343661232254;-3.4060010518853935935 -4.2458293489333964743 0.087883774937417322159 0.12430810608372426518 -0.1923352942046881453 -0.19116550973517820733;-0.50957860787467657016 -0.12135120591276370161 1.3421525249005221703 -0.50037210079808802643 -0.16554291875999446737 -0.79324592796202020306;-2.982620864347604428 -3.4925303170117971696 0.19501087331857286378 0.52018481144215145129 -0.039051179706199375119 -0.0051711951501074507331;-5.4221281176478628439 3.3442447916286539566 -0.018681505635426351453 -0.13520875549326161202 -0.43178883282959340528 0.090320870636727154657;-0.63829877724315986498 -3.2121644279856371718 0.68455056505291234092 0.93667424572361379642 -0.61085966774381639244 -0.46260864264603879237;0.44492086352038018315 -0.13977296795316121458 0.42609646381024435247 0.0015539907852178055925 0.083222960653365138373 -0.20543598107587057733;2.0479589770024859696 1.4322131253640160153 -0.74870979434380136031 -0.19941501969744596101 0.90426993266815058892 0.64049107667323734727;-0.93526844840440492845 -0.30059131063784644278 1.0372116046783927956 -0.58027735286875858911 -0.83648745202938667997 0.57035314574171136481;-2.1136747813202521051 1.1939279022780768802 -0.18159740232208879118 0.87782946485720914076 -0.051619343073882488493 -0.69807692035824708832;0.026354319339437531217 0.47549305513541179069 -0.70062619245311852367 0.01243980736684988965 0.0022507747052642234145 -0.1045213755284819801];

% Layer 2
b2 = [-0.028131772117953326995;0.0054067564350827844455;-0.12391516726727497266;0.11511729226559287709;0.072830866418724993228;0.024452062142745766699;0.029785154244369154569;0.0023456126305276287641;0.075645606869115866733;-0.042013052160487632247;-0.0042528854399860524516;-0.00472408599554242567;0.069852366710417251872;0.016637519711720505367;0.00069243133338197650987;-0.0030222585306682726684;0.11035645940338383031;-0.050980167292695270642;-0.060589286525454394416;0.028096483138145854352];
LW2_1 = [1.7520304845238023894 1.5419094079153508048 1.1009320795112567115 0.30587024733549511568 0.32951315538311998221 0.80769195181155895025 1.6493711519399305576 0.055731316891365109689 0.26280086436248117909 0.033472297297123712601 0.34837517827848712981 0.78628275283242343718 -1.9425745358542394481 0.13800695719660427407 -0.66959981427958248368 -0.028941230550884811806 0.11909823519594014973 -0.43048561959147091383 0.92139347170510044194 -1.4481470633992272745;0.77764848989079227159 -0.50313137108066108283 0.011466867426388430151 -0.76145391050711941361 -0.20324075481602396631 -0.2259674113627464509 -0.10180315355160222957 0.0094817294910458961577 0.25530074592886103924 -0.00068406834476694190761 0.94145808314528556249 0.16203023944807398715 -0.35181831630712606662 0.66883495188989583458 -0.026723026863894085159 -0.1834565994274365841 0.018115392483922309469 -0.15098050724238595843 -0.14856146684989951501 -0.65265991999998174133;0.38769236962662984025 1.3252680948022952379 0.86332491507772124439 -0.66332298919024423878 0.72025774013094945314 0.091939471872765812788 3.3023061355696352592 4.1545140529786124262 -1.2088759033238276608 -4.183870002607472216 -0.046115711241222157035 -0.83780173843177430104 -0.024130852254910906129 -0.3697296794525776753 -0.25230915073091153555 2.3999524488955099599 0.97543966543420346227 0.75397615662155614835 0.61710950617520798911 3.7460581725346098203;-2.1479838676289593202 -1.2510275049122727697 -0.81051116342430840067 -0.80541501102925516786 -0.70454403326237624583 -1.1842512537153899732 1.0815661552632640507 0.064521904541913768782 0.85659905059221030932 0.024601810464274561502 2.1919965449625036236 -0.1851896319424272408 -0.86418300847550966193 -0.66883880251267024963 1.7615436690764110228 -3.1012497196830186574 1.6274212562132270854 -0.0090934896401298499075 -0.82555842896854292334 0.94433500369092182591;-1.903125820397017387 -0.49242907768655586054 -0.727290551424308096 -0.22010313902925679463 -0.38805308808343669247 0.0063957338583298627144 0.21625198634729453362 -0.24301979837716183863 0.64405601009071433705 0.041870984829870387667 1.3551183042295213976 -0.23507242091474442325 -0.18418269025650202408 -1.5285716761275232045 0.86455166040957809326 -1.6434000776642705421 -0.13255043842583402736 0.13584810466188332323 -0.81419829380106789607 0.60193716419388254568;-0.093678693244342858826 -1.1490780482271807372 -0.49383208834296277168 -0.3885439908459694669 -0.14938939048428345746 -0.46399469872524645719 -1.0881603702111986021 -0.028285687289474954753 0.37913222430636944749 0.016194758020724325104 0.14947150015234655918 -0.14689677708703346992 0.52342226119753731961 0.090132181011402773274 0.027126694111350484195 -0.36165179451023971025 0.1513471633250644266 0.010054206821709037178 -0.4180669702254817266 -1.0046506995020800801;0.033501776347649614429 -1.9175274212570767585 0.51094087079247829664 -1.18933685919857135 0.15056740205668522892 -0.7034218935937296413 -1.3984022681583845316 -0.017172172418008294081 0.80226226365243735739 0.023934518834778088781 1.0056916207964503585 0.81618762815547718503 0.12339988526745510056 -0.52353632902586533238 -0.1307286032907687412 -0.40094198869293545817 0.49351214398435339081 -0.47416448892966361894 -0.55910328550406418469 -2.0801639860045315622;0.90105884991959617203 -0.31664181013176112556 0.47571786006662863944 -0.36726930750738029374 -0.31455672723718303141 -0.5514819143132843049 0.10598700426268696517 -0.17917563084372911675 0.8061019106381202004 -0.0406269607617561479 -1.952584151578045768 0.44328238800086244842 1.562088810008894102 -0.53160235749418083273 0.42318664089803403883 -0.23707277615292929318 -0.59879759767096474299 -0.24194056165112412526 -0.59700870016325446876 -0.88219516849743018216;-0.78992118626032126194 -0.44103078262190764658 0.13404148743253813114 0.62564036121910526766 0.73828053031585150201 -0.39619038480486901133 -0.38830635292063614417 -3.9031558503227623547 0.85458432018937113828 -3.199520487167435423 -1.7255781350154542064 -0.69490630342141679332 0.37617133714216732798 2.203293958626473259 -0.080156190999300949707 -1.7407020076937231856 -1.081113600398227792 0.32605849343457110612 -1.1834055819362450102 -1.0930704181192048008;1.8931587699037419892 -1.0357899690600791409 0.10783973593167620053 -1.7939684152350110491 0.63728542061990678391 -0.75136982421386944164 0.56777044154334432857 -0.017066921996470658246 0.36917374785314438501 -0.12546421187577133649 0.333794266907230186 -0.63871499676025900172 0.95529363664023780878 1.020009430698428865 -0.47447274619419910202 -0.24437727526313940407 0.27659611275282819376 -0.46652253270190008339 0.22504618744892410098 -2.4343464314100939916;0.12213814016684847175 0.71380120525732349002 0.17832832263234452141 0.72950411628821809629 0.0053788880972949646916 0.41781426643264352183 0.47420601683797375392 0.026723841782954008833 -0.18376513507301478478 -0.014030015620519911343 -0.45394350923375226259 -0.024085403523440390011 -0.024654846263312168303 0.013908278614749636226 0.011337428164841255318 -0.13532939291354131872 -0.17026194980477601937 -0.037132471824522075843 0.1794817169325966244 0.37046186817643411704;0.10727372492447746766 -0.072508030967005365763 0.079143714847681012614 -0.44327907954108974886 0.013165603746699413787 -0.21177141176850339255 0.48306546896819735348 -0.038657971282341427322 -0.015666997088146301237 -0.0065775354138074195592 1.1370064033716149599 0.095129262677947190596 -0.77567385403289323964 0.46567229461565712301 -0.13261848398730616272 -0.050166805312999981914 -0.07065348059966146399 0.004702891300469807731 0.060742490955666625374 0.01582138745685971945;-1.6596977575479086031 -1.0473537592614048375 -0.26280749068009917613 -0.054673628131763928051 -0.54272194644216797954 -0.67293860785931525204 -0.54269844909676545619 -0.68308550333036355262 0.57339736918051165127 0.028219061013727401305 0.43323391958787887956 -0.0035706412684980591218 0.61291402403132266841 -0.16494452787861996201 0.16167473343800761731 -1.1393541499193937661 0.1427830199410062284 -0.035183090291011034911 -0.29147358918886900891 0.23100002191455809575;-0.68751905833699877846 -1.2179908963448278225 0.57292347992484005115 -1.8631472542641294154 -0.094438511637063710102 -0.43874258334499471879 -0.95492925014417762153 -0.079129544638837118198 1.5545799477844457481 0.0066480837756293757745 1.7616665129185407057 0.73406829389702710209 0.10522252299339418524 -0.52315734023475335412 0.093350539701786777735 0.25778476410920142525 0.59856262258546111266 0.19070406446133622569 -1.6905729935997566571 -0.22752150471006094001;0.12517508439240249141 0.040541978238722735373 0.020278359097817885009 -0.053936527767328885929 -0.005162600812729670717 -0.18506227598723754002 -0.12587544562818744898 -0.0091777511329440425447 0.007061563570310500082 -0.0013223113719066563552 0.14899522875273044087 0.018947787731613756346 0.005291576553745651855 0.17063375929443072576 0.047434408657933212206 0.16128260270528985143 -0.01987451622891356004 -0.020061691687784325572 -0.0037697129090731420001 -0.03965097563602296149;-0.21901130573230789822 0.020304771753248244265 -0.059211808096170132076 0.35116730687760649987 -0.010928472785636909534 0.10630525281950321814 0.32553317494208117155 0.043036373934379090755 0.12361579310532957998 -0.0050148394229955354021 -0.50938000717937848005 0.027871724530065269954 0.32162247278031325104 -0.32570832987273179437 0.09192839194170902839 0.0042305017758649662504 -0.041798036878874976485 -0.061404521929420086135 -0.10466444430115982855 -0.33065408397079953939;-1.7187633438675962161 -1.3648215460328552151 -0.82577820284868030942 -0.85169045014145472461 -0.53826123832927541546 -1.2275517536493285586 0.68045614415022748211 0.047622512330536492797 1.441626709987306576 0.00073860156602950199477 1.5179739842037707209 0.076141134487164655043 -0.49936933875138744821 -0.72608380378084680373 1.8987034253621812852 -2.8532084698097546216 1.9049478394720005259 -0.040681878129397927579 -1.3766956593049928248 0.97173728885972099345;0.48338579636158696129 2.4801957658825375397 0.2746734374658814648 0.12058486312849808764 -0.67165459285317796745 0.7396304584727970699 1.7066820047616462208 0.011366717530317808904 -1.7638538053252685867 0.033449394978006898038 0.33532604604175758611 -0.10223371574359903236 -1.8451612378214872212 -0.18597811435030464633 -0.0030862551515480150105 1.1081375552857002376 -0.63113310660081212156 -0.12541227447155356423 1.5090480045060203906 1.8886514975433728036;1.9310321978325066805 0.50895620025565446731 0.32060787926680273108 -0.15806194161161238321 0.18439189433304509214 -0.093729344028979477699 0.14127651164871538048 -0.060218352530260511879 -0.27274126736722326125 -0.018261861152114772927 -0.6998110222465647734 0.20691159639694242656 -0.31479640794146801497 0.98021870948151446079 -0.46966125434311589704 1.3734312747105594799 0.22750548912547902125 -0.12193753834393027125 0.70867246379216353169 -0.6200855079060473285;0.14176675287448797791 -0.53780719440549873411 0.080532233065686575912 0.33022203291466756259 -0.26483784671852089732 -0.17937587250274913964 0.31455950464564758073 0.22094765235692140348 0.96537316374038417699 -0.11321504690803116389 0.27949654561821352106 0.24084392724653330697 -0.13784859894533074698 0.37685990261826529668 0.47212354643678167143 -0.58141778487181150492 -1.4355145652732146377 -0.62847792659501189316 -0.54200970248268087737 -0.63370335783034226207];

% Layer 3
b3 = [0.0045148829189763034844;-0.0053821526036063232004;-0.0071740546043722120198;0.005555671080870822065;-7.0753820790686426526e-05;-0.018487966333365239702;0.0069626450396504451987;-0.0093536784746678907493;-0.0083543052129824331431;-0.015355851429130347799;-0.0049436695712309569953;0.0095941012667737583103;-0.0091177619796062731039;0.0061613085097646713359;0.0027403257884169498343;-0.0032381100040729730687;0.00076793496812436578668;-0.0072406375902100399838;-0.024236445099077269516;-0.01792546059127601496];
LW3_2 = [-0.24053505670481598044 -0.023386773568036450799 0.041420930366725491889 0.24545900332331668792 0.22655342170052308881 0.57647155021148499543 -0.53288556418368326906 0.11010016317813242637 -0.049672574955704207333 -0.11866922395851324523 -1.4728775872878190345 0.59245322118341581241 -0.2860346184860022567 0.11062812002733127259 -1.5815516459687899431 1.1590058032578582914 -0.42271126869500524892 0.3464399014383545139 -0.29187186652782048935 0.044842608136244431483;0.1391325275922436211 0.30332584779113985762 -0.14115517005467212441 -0.078634264572293527396 -0.088612401359578679694 0.62213393585141663067 0.093800000719688303441 -0.36530163877586457888 -0.093489739582857847577 0.039745545679614129042 1.9144278167286057357 0.42097192606914862756 0.058865281155801148227 -0.025860626370214367248 1.1559029750320815033 -0.15748711937889142698 -0.39245880154299872533 0.095068892788010436745 -0.94239899539349725188 -0.014134521410454341239;-0.36421511946841744756 -0.58735642190655301675 0.070573819098873169509 -0.86790426225663619419 0.5170757904092203594 1.7498069648369110052 0.05129303910406354805 -0.29493216197291494129 0.018841585882711151673 -0.30982694061151072606 1.2567659848751191465 0.095974293299334531571 -0.21697078140900827314 -0.40829265199022524158 1.9005882785513021904 0.5744275815085713166 0.28388502010253990893 0.48995763413675114117 0.46223241552571697754 0.076259975355775638794;0.058448545837207578624 1.024462863125484624 -0.068969264279605896339 0.0017956944022693346191 -0.26255614056631598752 0.72005310704384584142 -0.45173569691674037019 0.092469260517666032606 -0.045053160788197842146 0.093009415992545071972 -0.062220631909433402051 -0.86888771253415941764 -0.16687012548592841665 0.32387402932257847166 -1.0047159680402071302 -0.098682855842718547601 -0.23209138685965349791 0.22546692368370946369 -0.86833844207758315026 -0.16564522940928447237;-1.681246572205740808 -1.2305527464630312551 0.050960641703361592159 -0.61094141444775140748 -0.017418614680850409704 0.16497057283939747796 -1.634875039642487593 -0.28210552152247203583 0.0097638291221967595662 -0.27833426201362554409 -0.41206793637517452611 0.62823514524491819166 0.12935945594100495271 -0.23765056188005606597 0.61030892015034288178 0.68299145449639320216 -0.25494556033141185791 0.1987852587544779448 -1.3094542470190781991 0.11271933500703137931;0.0716556230588970694 -1.604880031513345795 0.15909107660831717235 -1.4418014729530563844 0.65831494637363929812 0.99379203020765771726 -0.64485962484154568664 -0.44777925833083703777 0.1504400694245494885 -0.76181863730160725989 2.8669693118711903068 2.070610823879248219 -0.49586529208582358352 0.86633051684507933476 2.4190563255847710167 -0.65192644731128746027 0.74583753250624895692 0.38174421580856116032 0.76407162819988605484 0.65021323143083509244;-0.37886743361839847477 -1.2389153300737929531 -0.055644269109771681003 1.0029821389833897261 -0.081335130785361128836 -0.3120197706300606999 -0.53967462411776212505 -0.21134789092687469858 -0.030009122762005090157 -0.071752851438377882043 -1.6150863850436911751 0.48395355478414558981 0.28970546292465276794 0.015916614192392937455 -0.15849554847805236157 0.31117646199711551658 -0.80536167433846339581 0.60034238517175664285 -0.39801294931745845318 -0.10420520688547832422;-0.14578813252676142698 -0.16221586688290276501 -0.13857983404527479676 -0.91359840708426565126 0.045303744335166575008 0.33025689431981314348 0.30135353429433836547 -0.33467116375712752108 0.45791926518418751835 0.059451430470795790795 0.2036928450137005242 -0.22206090135103473404 0.57715940779527341586 -0.79205308652353922927 0.9875449243119260867 -0.1958423910193164974 0.5550505001846579578 0.067872100422379108564 -0.5962443611400877197 -0.035453590472882795526;0.16081187383910966471 -0.55909924693947155028 0.41799231923410051781 -0.23195285992024966548 -0.0057659556395920248673 -1.3086069843041865379 -0.70036204596290974056 -0.40262729830065940861 0.4025892143392649225 0.02273670105501583022 0.12036482571348354476 0.019354928792745779154 -0.3988201597647267338 0.73816745580238252167 1.7108367633532077789 0.011660765536442265627 0.040112933460232771954 0.37471462028065688488 -0.034497009784046739345 0.62270286693062759653;0.080211331679581179821 -1.6238822288472105626 0.24560821167426932776 -0.91887423176036786554 0.77964576317426437235 0.049245975940792663383 -0.82022051032908138701 -0.21086522555227985021 -0.14118069380856529405 -0.89707790727209024695 2.3693401094638586457 2.7655858832823940752 -0.38211482044150069104 1.293100417157320603 1.3190500928637014511 -0.57118491773167590075 0.2769868136602738895 -0.09805175112939355786 1.0184424795042823497 0.61483695503378177349;1.4455813193289610563 1.6325797103321024739 0.034914598850625415405 -0.78524106261992332456 -0.056678168882954897689 -1.5460678568416617029 0.77923897356307869622 0.39637320572995576873 0.031749443545582456405 0.16314474630338912653 0.30813476542489037779 -0.62713703348796201453 -0.18523005218989502252 1.5208795662914573743 -0.60260032471277569233 -0.71806208409149963057 0.71045738166338323616 -0.7240194603051751665 0.72179715808226652118 -0.0022814825177623074617;-0.041437404499848201622 1.0478575221746109225 -0.42014390801019629862 -0.24119545258746682981 -0.15174400625295697553 1.0461697351036829406 0.59483148858755507948 0.3879191823109464643 -0.31345466890214612743 0.019515368313585437082 -0.5727790665042690188 -0.66535898968851914237 0.35731142990399000769 -0.64061722416918309708 -1.8248574989286616699 0.10859449888288730257 0.39115469573625577526 -0.4453885966712032296 -0.37527745360161607335 -0.63903435409757847196;0.49560536359986173682 0.75340406047039754078 -0.36360035876800850252 0.6575186171247339173 0.14879482257149673208 -1.2744960513457446183 0.82580938359179356656 -0.19709498308979922498 -0.43961486323147591637 -0.51668422051183693355 0.55641317999728157062 0.20930341008753411414 0.47578227669557449087 -0.49446174046647517475 2.0978212402900071609 0.23981349340208657495 -0.82856448596871290491 0.40762202475605019414 -0.034007295447498753216 -0.54985847145413546677;-1.4561616620159578694 -1.5798114831805423197 -0.014298010814711437089 -0.10827164852607466805 0.14287620445515408774 2.753903779621214909 -1.0784677286598076673 -0.34452923962255249668 -0.029574976791280419008 -0.20057008421140468113 0.50643299233699978767 0.58388264568971082191 0.029614806436939176276 -1.5436100510342987135 0.32156177544193836892 0.77900050484239768966 0.24019210618068920216 0.74223524204112678593 -0.70346464033078415223 0.0091672918236593570196;0.29322592611948145036 0.53921281542376897633 0.054170048516795812898 -0.44638422624841811448 -0.36274836964521989247 -2.7850643149170526414 -0.91949789292097139359 0.21388566843742273793 0.17305429475598699263 0.075952561405528820626 -2.3779750378559700863 -0.78774516344542533375 0.24501440107395572321 0.77085661358884227656 -0.0092706957044433619536 -0.54555630819302536327 0.45351633973615346207 -0.71710998776438983349 0.40343640550627551944 -0.034996664029690156827;-0.46134760229577165269 0.072521472202030173859 -0.003471149744289286649 -1.1163613049148257694 0.28387973597099169787 2.168418784717009995 0.037395567473542716541 -0.14696399681128102799 -0.031276289182417864321 -0.41608919469662153379 1.1196019576974522991 -0.32575119692678478067 -0.17139172640002947601 -0.57118993429226883052 0.86374976680432757892 0.45924014316534644831 0.45808189459609971461 0.71188699633079022266 0.47291058555534798424 -0.11611520449774002939;1.6946443549661676098 1.1078974209718173149 -0.041197369120242709195 0.59368266219345122714 0.096076200769094247112 1.0280844129784094676 1.198286387045402801 0.30188099212678637384 0.012218358366808177926 0.31949180008401906194 1.1167275701960026613 -0.71356177085786232084 -0.14722996587967882021 0.27928056011545848714 -0.63059608229473240737 -0.50500681051286488987 0.28741917614729206587 -0.21045756773822402175 1.3489565093553685937 -0.10092536387473748094;-0.042600270613313638568 -0.17696912973089151677 0.82447189556344024908 -1.5258849808638632606 0.77673514270121390979 0.10985940462444074295 -1.264532456322390308 -0.37033239586992205972 -0.97130771869443854882 -0.39765937235069703792 -0.97290474051005260137 -1.0778462896217848588 -2.2361789738331454558 2.1027721832326453644 2.0595435405871085344 0.81368935182030377451 0.43005913291055336556 0.23708306308500345927 1.083805425658936894 1.0167322747114373449;0.29569846552624456937 1.4986385414122547211 -0.77012683898134237648 -2.39196302249890147 0.17144504073738070504 -0.73917693645393800495 1.3740330375456821788 -0.45734880077573109025 0.89596659731488592637 -0.44840067528805188646 0.78614728197720107339 0.19674639619623848774 1.7139219489381292139 -1.4528117131730102773 1.2960949119873994562 -0.012034587629638077155 1.5772002173395585078 0.36243951653502171073 -0.70859665096657320493 -1.0042935419430674138;0.11821457784831737592 -1.6278991620928482398 0.27656188344729387696 -1.232425304138166311 0.6870056342963810625 0.42665127844090711129 -0.63686951280043935242 -0.35188948838101075101 0.18847130745810256047 -0.60280043941604455338 2.2434276300891635714 2.3086911697977834379 -0.53109721015185951121 0.96709140449794983585 2.2280756024131824766 -0.56975628137303568899 0.61432911934680556332 0.59367988846545072246 0.81331065989014306172 0.70830726665931720287];

% Layer 4
b4 = [0.090415483372771235371;-0.098086723583839352525];
LW4_3 = [-0.86890901864327918513 -0.54377445980880978471 -1.4123336298356197194 0.21062205994380392426 -3.2610784622817901024 -0.69475133283079892887 0.45706831381745610665 0.95384344601233173044 -0.42392751707481929335 1.123482512536003286 3.8410696692830748056 -0.56227430398799105316 0.062660592865036959798 3.1180127274234430423 -0.87387969023112144207 0.66252812526038240559 -3.2922490733504710114 0.22704473019248089249 -0.28129959170200630192 -0.053845678393022740338;0.62577205638218869055 0.96197087830663219332 -1.6736886486025852605 -1.0134041164737928042 0.96725895791347271668 -2.3085677693464710103 1.3751876724301368426 -0.019822135870141650849 1.5284954603781288895 -0.11413446498270406193 3.4083475322276259867 1.8039643692098210614 -0.33887828496043320703 2.454833820986041637 0.20317530603266789613 1.5221727024978992659 0.87071999410596001567 0.057142414522195900117 -0.016964913243521825836 2.5045306855731488405];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [0.454455079955691;0.321912002778744];
y1_step1.xoffset = [-2.390888;-2.799727];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Layer 3
a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);

% Layer 4
a4 = repmat(b4,1,Q) + LW4_3*a3;

% Output 1
y1 = mapminmax_reverse(a4,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
