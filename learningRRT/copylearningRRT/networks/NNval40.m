function [y1] = NN40val(x1)
%NN40VAL neural network simulation function.
%
% Auto-generated by MATLAB, 16-Oct-2019 01:19:56.
% 
% [y1] = NN40val(x1) takes these arguments:
%   x = 6xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3.998151;-3.997391;-0.9983828;-0.9976032;-0.9986827;-0.9993171];
x1_step1.gain = [0.250109673091651;0.250823862328802;1.00103657337173;1.0026105974737;1.00099022958462;1.00085057285934];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.8545096672128780213;-0.75975686463160652107;0.012602602286258483139;2.679635029787862166;-0.44128097374235214501;-0.76755879271469085179;0.38779960240785571468;0.43166594477570169319;0.0046518100198519804489;-0.82314292305112912729;0.87690209213716707737;-0.75865028407445922465;-1.0088738823276071077;-0.76045635403692524168;0.51580870214505403215;0.78275410096260544801;0.83846153191127259507;-0.77647780552091172357;-1.253338443325086482;-0.58527142286237132662;-0.59118846672924729724;-0.69365031458657178121;-0.038679277253811768233;-0.51233606862462055531;-0.40125138457462639074;1.7253039205429727687;-0.73655921206350782882;-0.06529519970240431348;0.17418845880040711993;0.26661541831655349855;0.75085711694761037016;-0.20711105625866099711;-0.56771710297218103136;-1.8932771772085539297;1.9266712204705753742;-0.35405239506975155761;0.57515756538396267672;-0.94937364414163205595;-0.53434046106580634916;-0.60454237298758484176];
IW1_1 = [0.31512390543514173791 -1.3213434387095361888 -0.075464793070250751894 -0.38113765777816760449 0.23933033420140084613 -0.46922775152050416603;-2.2802921666063138417 -3.5777732832961790521 -0.48614500040673691572 -0.4399942595033157211 -0.4393386881167495317 -0.67382281450351366736;1.2546450092756111783 -0.70895758314462231642 0.19700529805298222508 0.13930964641551057959 0.25608157475418713567 -0.19479273208665184858;1.222130774337252257 1.8115605315746405868 0.18527308946551432345 0.35499824063993146162 0.18989962104059082693 0.26804802521297077522;-1.7461064905684515747 -1.580395844119691251 -0.39301636123456040739 0.39940831481160488092 -0.2709898382924905702 0.069982667098650808146;4.6531942656644948997 0.62153516575971401448 0.98972486783288504686 -0.26474144627784368389 0.80116534042825682249 0.33262500815862483527;-0.43194941701015471258 -2.7071741884812743351 -0.091453004362805706551 -0.043828805450079354189 -0.14280137690315589105 -0.2377911247846893894;2.3281702946170481638 -0.4684811599201231247 0.44284578086494613691 -0.21511781146712244395 0.39677009666826024148 0.026645442820014693386;0.3576321878968736212 2.5364278532400370558 0.043040766118496512349 0.21451315474021021013 0.0862129727208275215 0.33019948684180167042;1.5448206267071871167 -4.1252121355521538248 0.19414747124155412594 -0.06053704600498293481 0.34168662450540276954 -0.31740845820047919323;-0.17275769401547910742 -0.15271214432914265169 0.1423686971687578573 0.12988708928503864271 -0.15861396890595194642 0.36345438609794944451;2.729254348497416327 -0.039902024587352570573 0.51469306735858311175 0.45019438968780228771 0.69920273439239943869 -0.44538947485455776532;-0.70946513285477363908 -2.6393989076173820507 0.53131322088448962315 -0.522909527529609508 0.4865164972067459459 -0.67946286883714490656;0.033216790348439599601 -0.26662099120294874277 -0.18649185242434918042 0.68924505438377337008 0.1161396215920907915 0.49997652645469009558;2.21426910697799606 1.3415799726391861579 0.46044611114900735327 0.11508033780902077181 0.43175552336427969191 0.23706242354541390283;0.2286359690755086771 0.44460719101179907442 0.15863557112600809584 0.44747394953664437756 -0.069517301081922569517 -0.027584734360604133002;-0.40926011752098756524 -0.87777488954025673085 -0.068641066943144521395 0.11352846915570884156 -0.018449030997076201061 -0.46639279500616620533;1.2680957834726711564 -1.2433794454071689373 -0.41529096944989096762 -0.35410334242961538642 -0.058040050854087400778 -0.61687817589930327156;-0.3761981693806570326 0.45058813237549200093 -0.23471733838336986122 -0.24044190912739288324 -0.16823985078390690795 -0.26706306632796383838;3.1265365272232510385 -1.7904913773802526578 0.53685759178477654441 -0.17368791312662903992 0.55484064696669010974 -0.32026312766018666389;1.2588549401955990703 -3.3737174130403451144 0.039132265581180658565 0.48200163285860586626 0.35874095272374945109 0.13391424035081989086;1.3636507431056887896 -3.6150066064957799838 0.11163179077280033225 0.22336632302766343261 0.32226130998505619907 -0.074192497462589407364;1.1904672633343467147 1.2809420587149602522 0.31220514979362878893 0.20945153531094778954 0.20723861703158136249 0.34418670763697967185;-1.7720540429699933593 0.013068617073720641825 -0.28030117014054994895 0.27455321514612007761 -0.20634755444904070987 0.11053431307831131092;-0.44893518606285054418 -3.3141909478293896107 -0.029246012852274697047 -0.41088843269669605984 -0.10700535318375523075 -0.4954362624660145209;1.8385461131991387429 0.38222671001235891675 0.39037693446977317357 0.13170360799003363872 0.26944287023158614014 0.27880539922080566084;0.52979272274667865705 -0.15450364745971206792 0.47143993886759405498 -0.012905088166691940088 0.080483873737107261559 -0.12042731706631863708;-0.42780080627297911722 0.44316628846533173691 -0.36948371548325481539 -0.24482205001998394445 -0.33521800084336655923 -0.26648929870109400175;-0.62004158520401198018 0.075393188973055288993 -0.096013296683215759719 0.24482933512344154381 0.22636986597971781032 0.30372906744503197496;-0.69415210268062155219 -0.46197119112839213351 0.00083458001284715413546 -0.29726878569962056353 -0.18420644067989414006 -0.1937856933322879005;-0.11259375716815867019 1.0664556988392706049 -0.30564549036456012399 0.4342495727497643343 0.23740276586522301994 0.37745864583480387422;-0.077397137819124536828 0.030718746773438034003 -0.20286589811952152052 -0.2200272895289182018 -0.48012431733176397231 -0.28165084747823004863;-2.5867210722569256021 2.7076541534581450854 -0.47390467398090974083 0.50500407586157614048 -0.48704819847017172263 0.35171032861953249737;0.30364623401107843081 0.1596165320789164066 -0.35590494438588893278 -0.54162830192553657049 -1.1948757323960284005 -0.80098751822830072111;-0.78596615118315793502 -0.11749493477838923727 0.10021524082205135464 0.42026340117716365352 0.81010591586972946487 0.65055147553675174432;-1.7545711669646426589 -1.6155671102948121476 -0.46337607747483294807 0.70243801451996912277 -0.19012063764716452541 0.13569806191322641986;1.9975893280901049209 -1.137444219961699865 0.28997437454526814316 0.063636025399121137758 0.29628096096136119497 -0.047434803920703191848;-1.0079360324093487034 0.6043311772374158064 -0.28468755284194974253 0.3213130505305371587 -0.28469033194822573885 0.030628332972044002014;1.2723174274821886787 -1.1790563609366597753 0.10646405793090125969 0.098561054406799242233 0.23315739742107652321 -0.51454198105710247102;1.4019728125391699436 0.67797088557458029534 0.054274870982422868115 0.27980728287476464011 0.12826624512669293487 0.26682607678461484069];

% Layer 2
b2 = 2.1454855256310549905;
LW2_1 = [0.5391270685087018455 0.18499889696802232497 -1.2945349617460266689 0.54529107107936747312 -0.84325673298277858958 0.12198879242258683919 0.6586169474833968307 -0.80342298360382879974 1.5848796145533794455 0.82853811720828718368 -1.6730633902595761775 0.16292390444823168227 -0.11608089199278195935 0.29081921936032356646 -0.81923386896917549382 -1.1172339290171164894 -0.67822383580701117722 -0.20261837222915743406 -2.2190561896533460562 0.30766954434884224989 0.62128422389343007648 -1.4181500508416138295 0.67511730107046941107 -0.74605372246790024882 0.78203260574409860784 -0.67472344318793875395 1.5535691247316605335 -0.65482851556331544973 1.2630042495266855518 -1.5592752884560407978 -0.40707072519421955148 1.8126921782725726739 0.19788870689839566097 0.80524867158097146458 1.1493823714077593401 0.4246861664231454947 0.77660557000083196844 0.7124179193231607865 0.41336510850619245794 -0.9120860956014553711];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.200361391842466;
y1_step1.xoffset = 1.647747;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
