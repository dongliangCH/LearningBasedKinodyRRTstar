function [y1] = NNval40v1(x1)
%NNVAL40V1 neural network simulation function.
%
% Auto-generated by MATLAB, 16-Oct-2019 10:29:56.
% 
% [y1] = NNval40v1(x1) takes these arguments:
%   x = 6xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3.998151;-3.997391;-0.9989552;-0.9976032;-0.9986827;-0.9993171];
x1_step1.gain = [0.250109673091651;0.250823862328802;1.0007498618715;1.0026105974737;1.00099022958462;1.00085057285934];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.7661111438669693241;0.69371363916409223282;0.064260608540294944513;1.1440490712239772542;0.68751715868566198875;-1.9455492528742532876;-2.8344328236043234703;0.74640426693187666984;-1.638744405039856078;0.63819091994570720239;-1.0595567127284131193;0.67025186950358650595;-1.7002551545186266324;-0.57289833982787441435;0.6043586287847024785;-0.70695332487288042866;0.55969031096987953422;-0.89554127784455495043;-0.64901622075440201787;0.63101323613388027312;0.50878148240512899303;1.1051548839988878381;0.8561281613621504194;0.63361536339469015644;0.75550321849430068788;-0.83243991267484951369;-0.69334985710143348658;-0.91808582463599852641;0.62079565661985713909;-0.57289897774123133001;-0.65511268358604646256;-2.3826957880253369915;-0.98414626629745149966;-0.49352022440363352285;0.72846153952341030635;-0.52527806365386564558;-2.0150048825753859028;-0.75988509959678385286;0.93406557125842260003;-0.58141618124914351551];
IW1_1 = [-0.16764761549261250617 -2.2696422682571726348 -1.0144108911132818651 -0.30239738277402045119 -0.45972399159933452495 -0.95273960565245752186;-2.391598309591308702 -0.33797755213915597894 -0.62062489313469937358 -0.11087502227342373173 -0.49172526367991420404 -0.20626873658475039508;-0.12754898025162686448 -1.8841484445646075052 0.0026838920268475782022 -0.30050016148004338179 -0.031450970865662265796 -0.31896979262542479727;0.046148826018035944696 -0.05287691048330109278 -0.073394477044878836391 -0.585442209256078816 -0.062197384283788417769 -0.43163989618663112235;-3.6493471392527645492 -1.1308072508622553087 -0.92475634768917780448 -0.061912850070716084205 -0.77304535804394058918 -0.11399062076200186522;-0.13536538062298264506 -0.63109238046428095537 -0.047970705515911898908 0.74471143287206142958 0.1373168273754983848 0.60513697789756715206;2.6030345916913439908 -0.053533566092965528815 0.17751006355577345075 -0.23096188555083385641 0.81214617669570343672 0.31156614319717357287;-0.3610523389879630729 -1.6005095651614424934 -0.4507132299889590743 -0.095008318840707650654 0.03361241499232756752 -0.93236282757083355222;0.7914251173881190482 -0.36426575480249268058 0.25977181400432131086 -0.28499992145012553735 -0.092276437295129895566 0.14359073593013430004;-0.38770839243626153969 3.1582929525490084366 0.035004177342041163656 -0.50474155975529622076 -0.1103132581321920741 -0.25465161012768749993;-1.2060081564345843663 -0.93809454409407888598 -0.21371919667899250128 -0.38302045094390474445 -0.37628384633907907553 -0.35375905168941956802;-2.5331346544359583106 -0.56830089182645471269 -0.65347833472048910686 0.18327883743902859126 -0.52503425833288164259 0.11718243903691299979;0.25066107376366486559 0.87401131852748270568 0.15640706555338954042 0.57545911887393463857 0.24622745047641353411 0.32149377279250462847;-1.9521690136340101862 -2.3181293240771441155 -0.46429749505821693578 0.57180455578515121395 -0.30872967832776143648 -0.015947704823113136724;-3.4806745392883406964 0.10740583712014595275 -0.57863245966341991799 0.17543851169129159873 -0.52087013124841841094 -0.062003530658357126903;2.544431433107511964 -3.558707208258801824 0.49550566940055268406 -0.66300027228813895874 0.45344451021508397348 -0.57800891486464434088;3.3862211749162578478 -1.695590422096608707 0.52844839354562911371 -0.11489724896905452456 0.45996124195504561882 0.0062225447776729113022;-0.0072979340529880157296 0.69980665191693880445 0.099602158251985040138 0.36164246756587409282 -0.14311147651629183009 0.10487363516325068358;1.1731572564120293922 3.8823382261096965884 0.27603176940158741237 0.72317424831566412546 0.27176155134775670241 0.74616704854363413713;1.5165160948714166977 -1.3619278149284610446 0.31072261154360175661 -0.28871121072935002072 0.33736525720749516166 -0.17982359744676848501;2.6494445678564590985 -1.2104095178780838182 0.4725960773511531654 -0.40850886764563815179 0.39805817970104762082 -0.30258985204274208014;-0.43636972369891935397 -0.18041165482513274454 -0.090257832342121924185 -0.16897446446753047744 -0.41448772488162249905 0.0042905398662762333703;-2.3801312050647993601 -0.39414413596958275399 -0.64491915563545354484 0.0061317600159188643053 -0.51419189076924698423 -0.052011161036651216982;0.38691886991881402347 0.10034714184857311536 0.5127902906137483674 0.070811594483070963713 0.029370759065073515776 -0.052103788090190041038;-0.15891919001803647693 0.45531910338552328277 -0.18594891333577939774 0.25129929627116470714 0.075352045210633530892 0.31372029406439660981;1.5965005673767451722 -0.76275024559398474366 0.15463635459518776383 0.27428950730388595991 0.69239956072653852104 -0.77360096796857069634;-2.3748281748054695939 -2.5601163184581836596 -0.45696530381510924723 -0.13689749768896475324 -0.45724702913766634982 -0.36252197047766598903;-1.9010203858618737183 1.8113605951072220268 -0.11131086669883265283 0.38546477235788151328 -0.17218872580688801555 0.26153393908288419256;3.5815286601054658888 -1.7473874762566934393 0.59844210816409615372 -0.28388537098810706638 0.49883290905534194426 -0.14615642642878881596;-0.59279891944541551752 3.3256765367642815434 -0.055538852832639970525 0.54031690641226370886 -0.14219988280376677503 0.53589919933521779072;0.42209397407691562343 -3.4807756269849656761 -0.058053163846349620236 0.6769347688853403211 0.15511820132163467445 0.33923122457864063328;0.28168079104377091726 0.23493614795497738679 -0.54717484794114590319 -0.40701867272553604593 -1.6263157805923782462 -0.70724329004416564004;-0.088772811356697817198 2.4140452284607216704 -0.96820625966133500029 0.44532999132989681268 0.67586918810503326949 0.14619885793760084569;2.7655384103166227305 -0.16063853370134545395 0.28566605491354724045 -0.13678092191572352454 0.31279301402046616465 0.091747452522800615471;1.5365460773481762757 -1.7065837455823733571 0.4399498637646542254 -0.23783041488574449551 0.45288591277095757714 -0.10967483364454132244;0.2243678241999383649 0.10351839475255678047 -0.50760834147925815163 -0.24168025575252805037 -1.1493945246092316381 -0.33725063606706540131;0.17459727776531688836 0.17538476550921547337 -0.2607062082184362084 -0.24325668813810019664 -0.85211683110511249328 -0.40845529294095911377;-1.5600475904467274724 -1.6222211823347847393 0.31103048255709908609 -0.39247483835000629426 0.18033468788164980223 -0.47953004802141396823;-0.48597240647098333133 -0.04779946750160445762 -0.20007437178604353667 0.22199826242966641532 -0.11137505491348702324 -0.32039772240047964535;-2.1980914541704006382 -2.6354187358002647557 -0.55781416131885253051 1.0633596366299844505 -0.26606987557594125038 -0.006087977487333479619];

% Layer 2
b2 = 2.1807535971387630447;
LW2_1 = [0.092147582403547936836 1.2262302025159372842 1.0825578787726142238 -1.2481648187441820586 -0.42670527686204101636 -0.64388503064901192463 -0.25694619005535984657 -0.21796497167352893443 -0.87587834199080805142 0.74769202872907647439 0.33990916793493991532 1.1031340110549259226 -1.2983730346719104531 -0.63900272206541752773 -0.81972628039623862684 0.1987006365372450678 0.76013624150573311233 1.5976247485543004778 0.2459055325744690379 -2.0776946310048733935 0.65347326834426178177 -2.3112972312764896721 -1.7795134877890490532 -1.0573817807958423298 -1.8761491939128898121 0.11210928016714778732 0.42754069158733587486 -0.53658527321796212206 -1.0943613185675040711 0.3800214845989450807 0.54946307420155238166 0.94031375058968713621 0.05443331283717155189 -0.81312985925408731713 0.79261423698385791159 0.23641663505362545128 -3.3770741853971393276 -0.18020835712742139245 -1.7806237994357501098 0.28735297661288089488];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.200361391842466;
y1_step1.xoffset = 1.647747;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
